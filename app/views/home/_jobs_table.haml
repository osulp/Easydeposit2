:javascript
  $(document).ready(function() {
    $('#jobs_table').DataTable({
      stateSave: true
    });
  });

%h1 Jobs
%table#jobs_table.table.table-striped.table-bordered
  %thead
    %tr
      %th Name
      %th Updated
      %th User
      %th.message Message
      %th Status
  %tbody
    - @jobs.order(updated_at: :desc).each do |j|
      %tr{ class: "#{j.restartable ? 'restartable text-white' : ''}" }
        %td= j[:name]
        %td= j[:updated]
        %td
          - if j.user || j.cas_user
            .badge.badge-primary=j.user.present? ? j.user.email : j.cas_user.email
        %td.message= j[:message]
        %td.text-center
          - if j.restartable
            .material-icons.bg-danger.text-white.restart{'data-toggle' => 'tooltip', 'data-placement' => 'top', title: t('tooltip.restart') }= link_to "cached", publication_restart_job_path(j.publication, j)
          - else
            .material-icons{class: "text-#{j.get_status[:class]}"}= j.get_status[:icon]
